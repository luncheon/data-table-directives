(()=>{const b=Intl.Collator(void 0,{sensitivity:"base",numeric:!0,caseFirst:"upper"}),c=(n,t)=>b.compare(n?.textContent?.trim()??"",t?.textContent?.trim()??""),m=(n,t)=>t?(e,l)=>c(l.cells[n],e.cells[n]):(e,l)=>c(e.cells[n],l.cells[n]);addEventListener("click",n=>{const t=n.target.closest?.("[data-table-sortable]"),e=t?.closest("table");if(!e)return;const l=t.getAttribute("data-table-sort-order")==="asc";for(const o of e.tBodies)o.append(...[...o.rows].sort(m(t.cellIndex,l)));e.tHead?.querySelector("[data-table-sort-order]")?.removeAttribute("data-table-sort-order"),t.setAttribute("data-table-sort-order",l?"desc":"asc")});const a=(n,{cells:t})=>{if(!n.hasAttribute("data-table-column-width-fixed")){for(const e of t)e.style.width=`${e.offsetWidth}px`;n.setAttribute("data-table-column-width-fixed","")}},f=Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),p=(n,t)=>{if(!t)return 1;if(!n)return;for(let e=0;e<=n.length-t.length;e++)if(f.compare(n.substr(e,t.length),t)===0)return 1},u=n=>{const t=n.target;if(!t.closest("[data-table-filter]"))return;const e=t.closest("th,td")?.cellIndex,l=t.closest("table");if(e==null||!l)return;a(l,t.closest("tr"));const o="data-table-row-hidden-by";for(const s of l.tBodies)for(const r of s.rows){const i=r.getAttribute(o)?.split(",")??[],d=i.indexOf(String(e));p(r.cells[e].textContent,t.value)?d!==-1&&(i.splice(d,1),i.length===0?r.removeAttribute(o):r.setAttribute(o,i.join(","))):d===-1&&(i.push(e),r.setAttribute(o,i.join(",")))}};addEventListener("input",n=>n.target instanceof HTMLInputElement&&u(n));addEventListener("change",n=>n.target instanceof HTMLSelectElement&&u(n));addEventListener("pointerdown",n=>{const t=n.target.closest?.("[data-table-resizable]");if(!t)return;const e=t.closest("table");if(!e)return;if(t.getBoundingClientRect().right-n.clientX>parseInt(getComputedStyle(t,":before").width,10))return;a(e,t.closest("tr"));const l=n.clientX,o=t.offsetWidth,s=i=>{t.style.width=`${Math.max(1,Math.round(o+i.clientX-l))}px`},r=()=>{e.removeEventListener("pointermove",s),e.removeEventListener("pointerup",r),e.removeEventListener("pointercancel",r),e.removeAttribute("data-table-resizing")};e.addEventListener("pointermove",s),e.addEventListener("pointerup",r),e.addEventListener("pointercancel",r),e.setAttribute("data-table-resizing",""),e.setPointerCapture(n.pointerId)});})();
